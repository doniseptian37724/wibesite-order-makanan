<!doctype html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />
    <title>Anti Gravity - Order Makanan</title>
    <meta
      name="description"
      content="Anti Gravity - Order makanan mudah dan cepat via microsite. Pilih menu, pesan, dan bayar langsung!"
    />
    <meta name="theme-color" content="#0f0f23" />
    <meta property="og:title" content="Anti Gravity - Order Makanan" />
    <meta
      property="og:description"
      content="Order makanan mudah dan cepat via microsite"
    />
    <meta property="og:type" content="website" />
    <link rel="manifest" href="manifest.json" />
    <link rel="apple-touch-icon" href="icons/icon-192.png" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=Space+Grotesk:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
    />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <!-- Splash Screen -->
    <div id="splash-screen" class="splash-screen">
      <div class="splash-content">
        <div class="splash-logo">
          <i class="fas fa-rocket"></i>
        </div>
        <h1 class="splash-title">Anti Gravity</h1>
        <p class="splash-subtitle">Order Makanan Mudah &amp; Cepat</p>
        <div class="splash-loader">
          <div class="loader-bar"></div>
        </div>
      </div>
    </div>

    <!-- Main App -->
    <div id="app" class="app-container" style="display: none">
      <!-- Header -->
      <header class="app-header" id="app-header">
        <div class="header-bg"></div>
        <div class="header-content">
          <div class="header-top">
            <div class="brand">
              <i class="fas fa-rocket brand-icon"></i>
              <span class="brand-name">Anti Gravity</span>
            </div>
            <div class="header-actions">
              <button
                class="icon-btn"
                id="history-btn"
                aria-label="Riwayat Order"
                title="Riwayat Order"
              >
                <i class="fas fa-clock-rotate-left"></i>
              </button>
              <button class="icon-btn" id="cart-btn" aria-label="Keranjang">
                <i class="fas fa-shopping-bag"></i>
                <span class="cart-badge" id="cart-badge" style="display: none"
                  >0</span
                >
              </button>
              <button
                class="icon-btn"
                id="theme-toggle"
                aria-label="Toggle tema"
              >
                <i class="fas fa-moon"></i>
              </button>
            </div>
          </div>

          <!-- Operational Status Bar -->
          <div class="status-bar" id="status-bar">
            <div class="status-dot" id="status-dot"></div>
            <span id="status-text">Mengecek status...</span>
            <span class="status-time" id="status-time"></span>
          </div>

          <div class="header-hero">
            <h1 class="hero-title">
              Mau Makan Apa<br />Hari Ini? <span class="emoji-wave">üçî</span>
            </h1>
            <p class="hero-subtitle">Pilih menu, order, dan tinggal tunggu!</p>
          </div>

          <!-- Search -->
          <div class="search-container">
            <i class="fas fa-search search-icon"></i>
            <input
              type="text"
              id="search-menu"
              class="search-input"
              placeholder="Cari menu favorit..."
              autocomplete="off"
            />
            <button
              class="search-clear"
              id="search-clear"
              style="display: none"
            >
              <i class="fas fa-times"></i>
            </button>
          </div>
        </div>
      </header>

      <!-- Category Tabs -->
      <nav class="category-nav" id="category-nav">
        <div class="category-scroll" id="category-scroll">
          <button class="category-tab active" data-category="all">
            <i class="fas fa-fire"></i>
            <span>Semua</span>
          </button>
          <!-- Dynamic categories will be inserted here -->
        </div>
      </nav>

      <!-- Sort & Filter Bar -->
      <div class="filter-bar">
        <div class="section-header">
          <h2 id="section-title">Menu Populer</h2>
          <span class="item-count" id="item-count">0 item</span>
        </div>
        <div class="sort-options">
          <button class="sort-btn active" data-sort="default" id="sort-default">
            <i class="fas fa-star"></i> Populer
          </button>
          <button class="sort-btn" data-sort="price-asc" id="sort-price-asc">
            <i class="fas fa-arrow-up"></i> Termurah
          </button>
          <button class="sort-btn" data-sort="price-desc" id="sort-price-desc">
            <i class="fas fa-arrow-down"></i> Termahal
          </button>
          <button class="sort-btn" data-sort="name" id="sort-name">
            <i class="fas fa-font"></i> A-Z
          </button>
        </div>
      </div>

      <!-- Menu Grid -->
      <main class="menu-section">
        <div class="menu-grid" id="menu-grid">
          <!-- Skeleton loaders -->
          <div class="menu-card skeleton"></div>
          <div class="menu-card skeleton"></div>
          <div class="menu-card skeleton"></div>
          <div class="menu-card skeleton"></div>
        </div>
        <div class="menu-empty" id="menu-empty" style="display: none">
          <i class="fas fa-search"></i>
          <p>Menu tidak ditemukan</p>
          <span>Coba kata kunci lain</span>
        </div>
      </main>

      <!-- Cart Sheet (Bottom Sheet) -->
      <div class="cart-overlay" id="cart-overlay" style="display: none"></div>
      <div class="cart-sheet" id="cart-sheet">
        <div class="sheet-handle"></div>
        <div class="cart-header">
          <h2><i class="fas fa-shopping-bag"></i> Keranjang</h2>
          <button class="clear-cart-btn" id="clear-cart">
            <i class="fas fa-trash-alt"></i> Kosongkan
          </button>
        </div>
        <div class="cart-items" id="cart-items">
          <div class="cart-empty" id="cart-empty">
            <i class="fas fa-shopping-bag"></i>
            <p>Keranjang masih kosong</p>
            <span>Yuk pilih menu favoritmu!</span>
          </div>
        </div>
        <div class="cart-footer" id="cart-footer" style="display: none">
          <div class="cart-total">
            <div class="cart-total-detail">
              <span>Subtotal (<span id="cart-count-text">0</span> item)</span>
              <span class="total-amount" id="total-amount">Rp 0</span>
            </div>
          </div>
          <button class="checkout-btn" id="checkout-btn">
            <i class="fas fa-paper-plane"></i>
            Lanjut ke Checkout
          </button>
        </div>
      </div>

      <!-- Menu Detail Modal -->
      <div class="modal-overlay" id="detail-modal" style="display: none">
        <div class="modal-content detail-modal-content">
          <button class="modal-close" id="close-detail">
            <i class="fas fa-times"></i>
          </button>
          <div class="detail-image">
            <img id="detail-img" src="" alt="" />
            <span class="detail-badge" id="detail-badge"></span>
          </div>
          <div class="detail-body">
            <div class="detail-meta">
              <span class="detail-category" id="detail-category"></span>
              <span
                class="detail-popular"
                id="detail-popular"
                style="display: none"
              >
                <i class="fas fa-fire"></i> Populer
              </span>
            </div>
            <h2 class="detail-name" id="detail-name"></h2>
            <p class="detail-desc" id="detail-desc"></p>
            <div class="detail-price-row">
              <span class="detail-price" id="detail-price"></span>
              <div class="detail-qty-control" id="detail-qty-control">
                <button class="qty-btn minus" id="detail-qty-minus">
                  <i class="fas fa-minus"></i>
                </button>
                <span class="qty-value" id="detail-qty-value">1</span>
                <button class="qty-btn plus" id="detail-qty-plus">
                  <i class="fas fa-plus"></i>
                </button>
              </div>
            </div>
            <div class="detail-note-group">
              <label for="detail-note"
                ><i class="fas fa-sticky-note"></i> Catatan untuk item
                ini</label
              >
              <input
                type="text"
                id="detail-note"
                placeholder="Contoh: tidak pakai sambal, extra matang..."
              />
            </div>
            <button class="add-to-cart-btn" id="detail-add-btn">
              <i class="fas fa-plus"></i>
              Tambah ke Keranjang ¬∑ <span id="detail-add-price">Rp 0</span>
            </button>
          </div>
        </div>
      </div>

      <!-- Checkout Modal -->
      <div class="modal-overlay" id="checkout-modal" style="display: none">
        <div class="modal-content checkout-modal-content">
          <div class="modal-header">
            <h2><i class="fas fa-clipboard-check"></i> Checkout</h2>
            <button class="modal-close" id="close-checkout">
              <i class="fas fa-times"></i>
            </button>
          </div>
          <div class="modal-body">
            <div class="checkout-form">
              <div class="form-group">
                <label for="customer-name"
                  ><i class="fas fa-user"></i> Nama Lengkap</label
                >
                <input
                  type="text"
                  id="customer-name"
                  placeholder="Masukkan nama kamu"
                  required
                  autocomplete="name"
                />
              </div>
              <div class="form-group">
                <label for="customer-phone"
                  ><i class="fas fa-phone"></i> No. WhatsApp</label
                >
                <input
                  type="tel"
                  id="customer-phone"
                  placeholder="08xxxxxxxxxx"
                  required
                  autocomplete="tel"
                />
              </div>
              <div class="form-group">
                <label for="order-notes"
                  ><i class="fas fa-sticky-note"></i> Catatan Order
                  (Opsional)</label
                >
                <textarea
                  id="order-notes"
                  placeholder="Contoh: Tolong cepat ya min, ada acara jam 12..."
                  rows="2"
                ></textarea>
              </div>
            </div>

            <!-- Order Summary -->
            <div class="order-summary">
              <h3>Ringkasan Pesanan</h3>
              <div class="summary-items" id="summary-items"></div>
              <div class="summary-total">
                <span>Total Pembayaran</span>
                <span class="summary-total-amount" id="summary-total"
                  >Rp 0</span
                >
              </div>
            </div>
          </div>
          <div class="modal-footer">
            <button class="wa-order-btn" id="wa-order-btn">
              <i class="fab fa-whatsapp"></i>
              Kirim Pesanan via WhatsApp
            </button>
          </div>
        </div>
      </div>

      <!-- Order Confirmation Screen -->
      <div class="modal-overlay" id="confirm-modal" style="display: none">
        <div class="modal-content confirm-modal-content">
          <div class="confirm-animation">
            <div class="confirm-icon">
              <i class="fas fa-check"></i>
            </div>
          </div>
          <h2 class="confirm-title">Pesanan Terkirim! üéâ</h2>
          <p class="confirm-subtitle">
            WhatsApp sudah terbuka dengan detail pesananmu
          </p>
          <div class="confirm-detail">
            <div class="confirm-row">
              <span>Kode Order</span>
              <div class="confirm-code-wrapper">
                <strong id="confirm-order-code">-</strong>
                <button class="copy-btn" id="copy-code-btn" title="Salin kode">
                  <i class="fas fa-copy"></i>
                </button>
              </div>
            </div>
            <div class="confirm-row">
              <span>Nama</span>
              <strong id="confirm-name">-</strong>
            </div>
            <div class="confirm-row">
              <span>Total</span>
              <strong id="confirm-total" class="confirm-total-amount">-</strong>
            </div>
          </div>
          <button class="confirm-close-btn" id="confirm-close-btn">
            <i class="fas fa-home"></i> Kembali ke Menu
          </button>
        </div>
      </div>

      <!-- Order History Panel -->
      <div
        class="panel-overlay"
        id="history-overlay"
        style="display: none"
      ></div>
      <div class="side-panel" id="history-panel">
        <div class="panel-header">
          <h2><i class="fas fa-clock-rotate-left"></i> Riwayat Order</h2>
          <button class="panel-close" id="close-history">
            <i class="fas fa-times"></i>
          </button>
        </div>
        <div class="panel-body" id="history-list">
          <div class="history-empty">
            <i class="fas fa-receipt"></i>
            <p>Belum ada riwayat order</p>
          </div>
        </div>
        <div class="panel-footer">
          <button class="clear-history-btn" id="clear-history-btn">
            <i class="fas fa-trash"></i> Hapus Semua Riwayat
          </button>
        </div>
      </div>

      <!-- Floating Cart Button (Mobile) -->
      <button class="floating-cart" id="floating-cart" style="display: none">
        <div class="floating-cart-info">
          <span class="floating-cart-count" id="floating-count">0 item</span>
          <span class="floating-cart-total" id="floating-total">Rp 0</span>
        </div>
        <div class="floating-cart-icon">
          <i class="fas fa-shopping-bag"></i>
        </div>
      </button>

      <!-- Toast Container -->
      <div class="toast-container" id="toast-container"></div>
    </div>

    <script src="app.js"></script>
  </body>
</html>
